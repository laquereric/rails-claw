<% if connected? %>
  <div class="rounded-lg bg-green-50 border border-green-200 p-4">
    <div class="flex items-center">
      <div class="flex-shrink-0">
        <span class="inline-block h-3 w-3 rounded-full bg-green-400"></span>
      </div>
      <div class="ml-3">
        <h3 class="text-sm font-medium text-green-800">VV Provider Connected</h3>
        <p class="mt-1 text-sm text-green-700">
          <%= url %> &mdash; <%= model_count %> <%= model_label %> available
        </p>
      </div>
    </div>
  </div>
<% else %>
  <div class="rounded-lg bg-red-50 border border-red-200 p-4">
    <div class="flex items-start">
      <div class="flex-shrink-0 pt-0.5">
        <span class="inline-block h-3 w-3 rounded-full bg-red-400"></span>
      </div>
      <div class="ml-3 flex-1">
        <h3 class="text-sm font-medium text-red-800">VV Provider Not Connected</h3>
        <p class="mt-1 text-sm text-red-700">
          Install the VV Plugin from the Chrome Web Store to enable inference.
        </p>
        <% if error %>
          <p class="mt-1 text-xs text-red-600"><%= error %></p>
        <% end %>
        <div class="mt-3 flex gap-3">
          <a href="https://chromewebstore.google.com/detail/vv-chrome-extension" target="_blank" rel="noopener noreferrer"
            class="inline-flex items-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500">
            Install VV Extension
          </a>
          <%= link_to "Retry", request.path, class: "inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-red-700 shadow-sm ring-1 ring-inset ring-red-300 hover:bg-red-50" %>
        </div>
      </div>
    </div>
  </div>
<% end %>
